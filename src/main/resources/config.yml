# GoLive v2.0 Configuration
# Modern livestream announcement plugin for Minecraft 1.21+

# Database Configuration
database:
    # Database type: SQLITE or MYSQL
    # SQLITE: File-based, no setup required (default)
    # MYSQL: For multi-server networks
    type: SQLITE

    # MySQL settings (only used if type is MYSQL)
    mysql:
        host: localhost
        port: 3306
        database: golive
        username: your_username
        password: your_secure_password # CHANGE THIS!
        ssl: false
        pool-size: 10

# Vault Integration
vault:
    # Enable Vault integration for permissions/prefix
    enabled: true

    # Mode: "prefix" or "group"
    # prefix: Adds a prefix/suffix to the player (recommended - preserves permissions)
    # group: Changes the player's group (old method - may affect permissions)
    mode: prefix

    # Prefix/Suffix settings (used when mode is "prefix")
    prefix:
        # The prefix to add when live
        # NOTE: Most permission plugins don't support MiniMessage formatting in prefix yet
        # Use simple Minecraft color codes instead: &c = red, &6 = gold, &a = green, etc.
        live: "&d&lðŸ”´ LIVE &r"

        # Optional: Priority for the prefix (higher = more important)
        priority: 100

    # Group settings (used when mode is "group")
    groups:
        live: content-creator-live
        standard: content-creator

    # Commands to execute as fallback if Vault Chat API is not available
    # The plugin will automatically use Vault Chat API first (works with all Vault-compatible plugins)
    # These commands are only used if Chat API fails
    # Available placeholders: %player%, %prefix%, %priority%
    commands:
        # === PREFIX MODE COMMANDS ===
        # Command to add prefix when going live (LuckPerms meta approach - preserves existing prefix)
        live: "lp user %player% meta setprefix %priority% %prefix%"
        # Command to remove prefix when going offline (removes only the live prefix)
        offline: "lp user %player% meta removeprefix %priority%"

        # === GROUP MODE COMMANDS ===
        # Uncomment and modify if using group mode:
        # live: "lp user %player% parent set content-creator-live"
        # offline: "lp user %player% parent set content-creator"

    # === COMMAND TEMPLATES FOR OTHER PERMISSION PLUGINS ===
    # Uncomment the section for your permission plugin and update the commands above

    # LuckPerms (default - already configured above)
    # Prefix mode (RECOMMENDED - preserves existing prefix):
    # live: "lp user %player% meta setprefix %priority% %prefix%"
    # offline: "lp user %player% meta removeprefix %priority%"
    #
    # Alternative prefix mode (replaces entire prefix):
    # live: "lp user %player% meta setprefix %priority% %prefix%"
    # offline: "lp user %player% meta setprefix %priority%"
    #
    # Group mode:
    # live: "lp user %player% parent set content-creator-live"
    # offline: "lp user %player% parent set content-creator"

    # PermissionsEx (PEX)
    # Prefix mode:
    # live: "pex user %player% prefix set %prefix%"
    # offline: "pex user %player% prefix set"
    # Group mode:
    # live: "pex user %player% group set content-creator-live"
    # offline: "pex user %player% group set content-creator"

    # GroupManager
    # Prefix mode:
    # live: "manuaddp %player% prefix.%prefix%"
    # offline: "manudelp %player% prefix.*"
    # Group mode:
    # live: "mangcheckp %player% content-creator-live"
    # offline: "mangcheckp %player% content-creator"

    # PowerfulPerms
    # Prefix mode:
    # live: "pp user %player% setprefix %prefix%"
    # offline: "pp user %player% setprefix"
    # Group mode:
    # live: "pp user %player% addgroup content-creator-live"
    # offline: "pp user %player% setgroup content-creator"

    # UltraPermissions
    # Prefix mode:
    # live: "upc setprefix %player% %prefix%"
    # offline: "upc removeprefix %player%"
    # Group mode:
    # live: "upc addgroup %player% content-creator-live"
    # offline: "upc setgroup %player% content-creator"

    # bPermissions
    # Prefix mode:
    # live: "permissions player %player% setprefix %prefix%"
    # offline: "permissions player %player% removeprefix"
    # Group mode:
    # live: "permissions player %player% setgroup content-creator-live"
    # offline: "permissions player %player% setgroup content-creator"

# GUI Configuration
gui:
    # Enable GUI for live/offline commands
    enabled: true

    # GUI size (9, 18, 27, 36, 45, 54)
    size: 27

    # Title of the GUI
    title: "<gradient:#8b5cf6:#4c1d95>GoLive</gradient> <gray>Menu</gray>"

    # Button materials and customization
    buttons:
        live:
            slot: 11
            material: PURPLE_CONCRETE
            custom-model-data: 1001
            glow: false
            name: "<#8b5cf6>Go Live</#8b5cf6>"
            lore:
                - "<gray>Click to announce you're live!</gray>"
                - "<#a855f7>Requires a stream link</#a855f7>"

        offline:
            slot: 13
            material: BLACK_CONCRETE
            custom-model-data: 1002
            glow: false
            name: "<#4c1d95>Go Offline</#4c1d95>"
            lore:
                - "<gray>Click to go offline</gray>"

        edit-link:
            slot: 15
            material: WRITABLE_BOOK
            custom-model-data: 1003
            glow: false
            name: "<#7c3aed>Edit Stream Link</#7c3aed>"
            lore:
                - "<gray>Click to set your stream link</gray>"

        close:
            slot: 22
            material: BARRIER
            custom-model-data: 1004
            glow: false
            name: "<#4c1d95>Close</#4c1d95>"
            lore:
                - "<gray>Click to close this menu</gray>"

    # Background/filler items
    background:
        enabled: true
        material: PURPLE_STAINED_GLASS_PANE
        custom-model-data: 1000
        name: " "

# Announcement Settings
announcements:
    # Enable title announcements
    title:
        enabled: true
        fade-in: 10
        stay: 50
        fade-out: 10

    # Enable sound effects
    sound:
        enabled: true
        type: entity.player.levelup
        volume: 1.0
        pitch: 1.0

    # Enable clickable messages with hover
    clickable-messages: true

    # Auto-removal of live status
    auto-removal:
        enabled: true
        # Time in seconds (default: 12 hours)
        delay: 43200

# Action Bar Settings
action-bar:
    # Enable action bar reminder for live players
    enabled: true

    # Update interval in ticks (20 ticks = 1 second)
    update-interval: 20

    # Message to display in action bar
    message: "<gradient:#8b5cf6:#4c1d95>ðŸ”´ LIVE</gradient> <gray>|</gray> <#a855f7>Use /offline when done streaming</#a855f7>"

# Stream Link Validation
stream-validation:
    # Require HTTPS
    require-https: true

    # Allowed domains (empty = allow all)
    allowed-domains:
        - twitch.tv
        - youtube.com
        - kick.com
        - tiktok.com
        - facebook.com
        - instagram.com

# Permission Nodes
permissions:
    # Admin permissions
    admin: golive.admin

    # Basic live permissions
    live: golive.live

    # Offline permissions
    offline: golive.offline

    # Bypass cooldown
    bypass-cooldown: golive.bypass.cooldown

    # Bypass link validation
    bypass-validation: golive.bypass.validation

# Cooldown Settings
cooldown:
    # Enable cooldown between live announcements
    enabled: true
    # Cooldown in seconds
    duration: 300

# Metrics
metrics:
    # bStats metrics
    enabled: true

# Update Checker
update-checker:
    # Enable automatic update checking
    enabled: true
    # Check interval in hours
    interval: 24
    # Notify admins about updates
    notify-admins: true

# Debug Settings
debug:
    # Enable debug logging (shows more detailed startup/shutdown messages)
    enabled: false
